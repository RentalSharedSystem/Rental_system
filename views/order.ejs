<!DOCTYPE html>
<html lang="en" dir="ltr">

<head>
  <meta charset="utf-8">
  <link rel="icon" href="https://cdn.w600.comps.canstockphoto.com/bicycle-icon-bike-vector-isolated-on-eps-vectors_csp51128439.jpg" sizes="16x16">
  <title>Rental_Hire</title>
  <base href="/">
  <link rel="stylesheet" href="hire.css">
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">
  <link rel="stylesheet" href="https://pro.fontawesome.com/releases/v5.10.0/css/all.css" integrity="sha384-AYmEC3Yw5cVb3ZcuHtOA93w35dYTsvhLPVnYs9eStHfGJvOvKxVfELGroGkvsg+p" crossorigin="anonymous" />
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@500&display=swap" rel="stylesheet">
  <script src="https://cdn.jsdelivr.net/npm/axios/dist/axios.min.js"></script>
  <script src="https://checkout.razorpay.com/v1/checkout.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/noty/3.1.4/noty.min.js"></script>
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
</head>

<body>

  <nav class="navbar navbar-light bg-light">
    <h1 class="navbar-brand mb-0 h1">Rental</h1>


    <div class="dropdown">
      <i class="fas fa-user fa-2x dropbtn"></i>
      <div class="dropdown-content">
        <a class="dropdown" href="/profile">Profile</a>
        <a class="dropdown" href="/users/logout">SignOut</a>
        <a class="dropdown" href="/">Home</a>
      </div>
    </div>
    <div class="main">
      <div class="home-above">
        <div class="item" style="position: relative; top: -300px; left:500px; width: 500px;">
          <img  src="/uploads/images/<%=products.image%>" alt="Card image cap">
          <p >Rating: <%=products.rating%></h5>
            <p >Pincode: <%=products.pincode%></h5>
            <p>price per day:- <%=products.cost%></p>
            </div>
            <p style="color: aliceblue; font-size: x-large; position: relative; left: 520px; top:-240px;">Press the button to proceed payment</p>
        <button id="rzp-button1" class="btn btn-lg btn-outline-info" style="position: relative; bottom: 200px; left:530px;" name="button">Confirm Payment</button>
        <div style="display: none;">
          <a class="fake" href="/is-order-complete/<%=products._id%>">demo</a>
          <a class="fake1" href="/order/<%=products.cost%>">demo</a>
          <a class="fake2" href="<%=products.cost%>">demo</a>
        </div>
      </div>
    </div>

  </nav>

  <script>
    let x=$(".fake1").prop('href');
    x=x+"00";
    let x2=$(".fake2").prop('href');
    x2+="00";
    axios.post(x).then((info) => {
      var options = {
        "key": "rzp_test_QOtM8eAamDFzZq",
        "amount": x2,
        "currency": "INR",
        "name": "Rental",
        "description": "Test Transaction",
        "image": "https://image.shutterstock.com/image-vector/cycling-race-vector-logo-illustration-260nw-1081020509.jpg",
        "order_id": info.data.id,
        "callback_url":$(".fake").prop('href'),
        "theme": {
            "color": "#66e0ff"
        }
      };

      var rzp1 = new Razorpay(options);
      document.getElementById('rzp-button1').onclick = function(e){
        rzp1.open();
        e.preventDefault();
      }
    })
  </script>
</body>

</html>
